pipeline {
    agent any
    triggers {
        GenericTrigger(
            causeString: 'Triggered by GitHub PR',
            token: "MySecretToken",
            printContributedVariables: true,
            printPostContent: true,
            regexpFilterText: '$action',
            regexpFilterExpression: 'opened|synchronize'
        )
    }
    stages {
        stage('Acknowledge Webhook') {
            steps {
                script {
                    echo "Received Webhook - Responding to GitHub"
                }
            }
        }
        stage('Process Job') {
            steps {
                script {
                    sleep 2  // Simulate fast response
                    echo "Now processing job"
                }
            }
        }
    }
}
